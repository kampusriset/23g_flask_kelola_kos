{% extends 'dashboard.html' %}

{% block content %}
<div class="p-6">

  <!-- âœ… Flash Message -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="mb-4">
        {% for category, message in messages %}
          <div class="p-3 rounded text-white bg-{{ 'green-600' if category == 'success' else 'red-600' }}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <h1 class="text-2xl font-bold mb-4">Kelola Peraturan Kos</h1>

  <!-- Form Tambah Peraturan -->
  <form method="POST" class="mb-6">
      <label for="isi" class="block font-semibold mb-2">Isi Peraturan</label>
      <textarea name="isi" id="isi" rows="3" class="w-full border rounded p-2" placeholder="Tulis peraturan baru..."></textarea>

      <button type="submit" class="mt-3 bg-blue-600 text-white px-4 py-2 rounded">
          Tambah Peraturan
      </button>
  </form>

  <!-- Daftar Peraturan -->
  <h2 class="text-xl font-bold mb-2">Daftar Peraturan</h2>

  <ul class="list-disc pl-6 space-y-2">
      {% for p in semua_peraturan %}
          <li>{{ p.isi }}</li>
      {% else %}
          <li class="text-gray-500">Belum ada peraturan.</li>
      {% endfor %}
  </ul>
</div>
{% endblock %}